name: Test Workflow
on:
  pull_request:
    types: [opened, edited]
jobs:
  handle-trello-card:
    name: Handle trello card
    permissions:
      pull-requests: read
    runs-on: ubuntu-latest
    if: ${{ contains(github.event.pull_request.body, 'https://trello.com/c/') }}
    env:
      PR_BODY: ${{ github.event.pull_request.body }}
    steps:
      - run: TICKET_ID=echo "$PR_BODY" | grep -o 'https://trello.com/c/.*/' | awk -F '/' '{ print $5 }'
      - run: echo $TICKET_ID
      
    
